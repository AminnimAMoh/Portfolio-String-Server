"use strict";(self.webpackChunkandramedian_design=self.webpackChunkandramedian_design||[]).push([[193],{9:(t,e,a)=>{a.r(e),a.d(e,{default:()=>d});var r=a(1302),l=a(1802);var n=a(9322);const s=Math.max,i=Math.sin,o=Math.cos,p=Math.PI/2,d=(t,e,a,d,c,u,f)=>{const x=d.cityLables,y=d.ellipseContainer,h=d.groupOne,m=d.groupTwo,g=d.groupThree,v=d.lables,w=d.rainGroup,C=120,M=[f.transform.animVal[0].matrix.e,f.transform.animVal[0].matrix.f];let A=f.id;x.selectAll("text").remove(),c.selectAll("circle").classed("clicked",!1),c.select(f).classed("clicked",!0);let k=c.transition().ease(c.easePoly).duration(1e3);c.transition().ease(c.easePoly).duration(1e3);let b=y.selectAll("ellipse").data(r.G.ellipsesLength);b.exit().remove(),b.select("ellipse").data(r.G.ellipsesLength).enter().append("ellipse").attr("class","ellipseCan").attr("cx",(function(t,e){return M[0]+C*Math.cos((0,l.KF)(e))})).attr("cy",(function(t,e){return M[1]+C*Math.sin((0,l.KF)(e))})).transition(k).attr("rx",(function(t){return t.size})).attr("ry",(function(t){return t.size})).attr("fill","#061621").style("stroke",(function(t){return"none"===t.f?t.s:"url(#Gradient)"})).style("stroke-width","1.5px").style("filter","url(#graph-drop-shadow)"),x.selectAll("text").data(r.G.ellipsesLength).enter().append("text").attr("x",(function(t,e){return M[0]+C*Math.cos((0,l.KF)(e))})).attr("y",(function(t,e){return M[1]+C*Math.sin((0,l.KF)(e))-20})).text((function(t,e){if(e<=2)return A})).attr("text-anchor","middle").style("fill","#9c3c41").style("font-size","8pt"),c.scaleLinear().domain([0,63]).range([70,0]),((t,e,a,r,l,n,s,i,o,p,d,c)=>{const u=o.arc().innerRadius(60).outerRadius((function(t){return f(t.data)})),f=o.scaleLinear().domain([+t.data[0].Min2011,+t.data[0].Max2011]).range([62,70]),x=o.scaleSequential().domain([+t.data[0].Min1991,+t.data[0].Max1991]).interpolator(o.interpolateBuPu),y=t.data.map((t=>t.City));let h={popOne:0,popTwo:0,popThree:0};for(let m=0;m<3;m++){let g,v;0===m?(g=t.data.map((t=>+t.Population1991)),v=e):1===m?(g=t.data.map((t=>+t.Population2001)),v=a):2===m&&(g=t.data.map((t=>+t.Population2011)),v=r),g.splice(0,2);const w=o.pie()(g),C=t.data.map((t=>+t.Population1991)),M=v.selectAll("path").data(C);M.exit().remove(),M.select("path").data(w).enter().append("path").attr("d",u).style("fill",(function(e,a){return p===y[a]?(h.popOne=t.data[a].Population1991,h.popTwo=t.data[a].Population2001,h.popThree=t.data[a].Population2011,"#9C3C41"):x(g[a])})).style("stroke-width","none").transition().ease(o.easePoly).duration(1e3).attrTween("d",b);const A=l+n[0]+s*Math.cos(d(m)),k=n[1]+s*Math.sin(d(m));function b(t){const e=o.interpolateNumber(70,60);return function(a){const r=e(a);return o.arc().outerRadius((function(t){return f(t.data)})).innerRadius(r)(t)}}v.attr("transform","translate("+A+","+k+")"),i.attr("transform","translate("+(A+110)+","+k+")");let N=i.selectAll("text").data(c),T=o.format(",");N.exit().remove(),N.select("text").data(c).enter().append("text").attr("x",(function(t){return t.x})).attr("y",(function(t){return t.y+5})).text((function(t){return t.text})).attr("width",20).attr("fill","#B0B2B8").attr("font-size",11).style("opacity",1),N.select("text").data(c).enter().append("text").attr("x",(function(t){return"NaN"===T(h.popOne)||"NaN"===T(h.popTwo)||"NaN"===T(h.popThree)?t.x-20:t.x-28})).attr("y",(function(t){return t.y+25})).text((function(t,e){switch(e){case 0:return"NaN"===T(h.popOne)?"Data Missing":T(h.popOne);case 1:return"NaN"===T(h.popTwo)?"Data Missing":T(h.popTwo);case 2:return"NaN"===T(h.popThree)?"Data Missing":T(h.popThree);default:return T(0)}})).attr("width",20).style("fill","#E4E5E7").style("font-size",11)}})(t,h,m,g,u,M,C,v,c,A,l.KF,r.G.rectsLength);let N=u+M[0]+C*Math.cos((0,l.KF)(3))-125,T=M[1]+C*Math.sin((0,l.KF)(3))-125;w.attr("transform","translate("+N+","+T+")").style("opacity",1);let L={color:"#cd1d27",name:A,axes:[{}]};e.data.map(((t,e)=>(t.Station===A&&L.axes.push({value:+t[`MonthlyTotal${a}`],axis:r.G.rainMonthsName[e%12].name}),null))),L.axes.splice(0,1);const P={w:90,h:150,margin:{top:50,right:80,bottom:50,left:80},levels:2,roundStrokes:!1,color:c.scaleOrdinal().range(["#9C3C41","#12393D","#9C3C41"]),format:".1f"};!function(t,e,a){const r={w:600,h:600,margin:{top:20,right:20,bottom:20,left:20},levels:3,maxValue:0,labelFactor:1.55,wrapWidth:60,opacityArea:.8,dotRadius:2,opacityCircles:1,strokeWidth:.8,roundStrokes:!1,color:n.scaleOrdinal(n.schemeCategory10),format:".2%",unit:"mm",legend:!1};if(void 0!==a)for(var l in a)void 0!==a[l]&&(r[l]=a[l]);let d=0;for(let t=0;t<e.axes.length;t++)e.axes[t].id=e.name,e.axes[t].value>d&&(d=e.axes[t].value);d=s(r.maxValue,d);const c=e.axes.map(((t,e)=>t.axis)),u=c.length,f=Math.min(r.w/2,r.h/2),x=n.format(r.format),y=2*Math.PI/u,h=n.scaleLinear().range([0,f]).domain([0,d]),m=n.select(t);m.select("svg").remove();let g=m.append("svg").attr("width",r.w+r.margin.left+r.margin.right).attr("height",r.h+r.margin.top+r.margin.bottom).attr("class","radar"),v=g.append("g").attr("transform","translate("+(r.w/2+r.margin.left)+","+(r.h/2+r.margin.top)+")"),w=v.append("defs").append("filter").attr("id","glow");w.append("feGaussianBlur").attr("stdDeviation","2.5").attr("result","coloredBlur");let C=w.append("feMerge");C.append("feMergeNode").attr("in","coloredBlur"),C.append("feMergeNode").attr("in","SourceGraphic");let M=v.append("g").attr("class","axisWrapper");M.selectAll(".levels").data(n.range(1,r.levels+1).reverse()).enter().append("circle").attr("class","gridCircle").attr("r",(t=>f/r.levels*t)).style("fill","#CDCDCD").style("stroke","#CDCDCD").style("fill-opacity",r.opacityCircles).style("filter","url(#glow)"),M.selectAll(".axisLabel").data(n.range(1,r.levels+1).reverse()).enter().append("text").attr("class","axisLabel").attr("x",4).attr("y",(t=>-t*f/r.levels)).attr("dy","0.4em").style("font-size","10px").attr("fill","#737373").text((t=>x(d*t/r.levels)+r.unit));var A=M.selectAll(".axis").data(c).enter().append("g").attr("class","axis");A.append("line").attr("x1",0).attr("y1",0).attr("x2",((t,e)=>h(1.1*d)*o(y*e-p))).attr("y2",((t,e)=>h(1.1*d)*i(y*e-p))).attr("class","line").style("stroke","white").style("stroke-width","2px"),A.append("text").attr("class","legend").style("font-size","8px").attr("text-anchor","middle").attr("dy","0.35em").attr("x",((t,e)=>h(d*r.labelFactor)*o(y*e-p))).attr("y",((t,e)=>h(d*r.labelFactor)*i(y*e-p))).text((t=>t)).call(((t,e)=>{t.each((function(){for(var t,a=n.select(this),r=a.text().split(/\s+/).reverse(),l=[],s=0,i=a.attr("y"),o=a.attr("x"),p=parseFloat(a.attr("dy")),d=a.text(null).append("tspan").attr("x",o).attr("y",i).attr("dy",p+"em");t=r.pop();)l.push(t),d.text(l.join(" ")),d.node().getComputedTextLength()>e&&(l.pop(),d.text(l.join(" ")),l=[t],d=a.append("tspan").attr("x",o).attr("y",i).attr("dy",1.4*++s+p+"em").text(t))}))}),r.wrapWidth);var k=n.radialLine().curve(n.curveLinearClosed).radius((t=>h(t.value))).angle(((t,e)=>e*y));r.roundStrokes&&k.curve(n.curveCardinalClosed);var b=v.selectAll(".radarWrapper").data(e).enter().append("g").attr("class","radarWrapper");b.append("path").attr("class","radarArea").attr("d",(t=>k(t.axes))).style("fill",((t,e)=>r.color(e))).style("fill-opacity",r.opacityArea).on("mouseover",(function(t,e){m.selectAll(".radarArea").transition().duration(200).style("fill-opacity",.1),n.select(this).transition().duration(200).style("fill-opacity",.7)})).on("mouseout",(()=>{m.selectAll(".radarArea").transition().duration(200).style("fill-opacity",r.opacityArea)})),b.append("path").attr("class","radarStroke").attr("d",(function(t,e){return k(t.axes)})).style("stroke-width",r.strokeWidth+"px").style("stroke",((t,e)=>r.color(e))).style("fill","none").style("filter","url(#glow)"),b.selectAll(".radarCircle").data((t=>t.axes)).enter().append("circle").attr("class","radarCircle").attr("r",r.dotRadius).attr("cx",((t,e)=>h(t.value)*o(y*e-p))).attr("cy",((t,e)=>h(t.value)*i(y*e-p))).style("fill",(t=>r.color(t.id))).style("fill-opacity",.8),v.selectAll(".radarCircleWrapper").data(e).enter().append("g").attr("class","radarCircleWrapper").selectAll(".radarInvisibleCircle").data((t=>t.axes)).enter().append("circle").attr("class","radarInvisibleCircle").attr("r",1.5*r.dotRadius).attr("cx",((t,e)=>h(t.value)*o(y*e-p))).attr("cy",((t,e)=>h(t.value)*i(y*e-p))).style("fill","none").style("pointer-events","all").on("mouseover",(function(t,e){N.attr("x",this.cx.baseVal.value-10).attr("y",this.cy.baseVal.value-10).transition().style("display","block").text(x(t.value)+r.unit)})).on("mouseout",(function(){N.transition().style("display","none").text("")}));const N=v.append("text").attr("class","tooltip").attr("x",0).attr("y",0).style("font-size","12px").style("display","none").attr("text-anchor","middle").attr("dy","0.35em");if(!1!==r.legend&&"object"==typeof r.legend){let t=g.append("g"),a=e.map((t=>t.name));r.legend.title&&t.append("text").attr("class","title").attr("transform",`translate(${r.legend.translateX},${r.legend.translateY})`).attr("x",r.w-70).attr("y",10).attr("font-size","12px").attr("fill","#404040").text(r.legend.title);let l=t.append("g").attr("class","legend").attr("height",100).attr("width",200).attr("transform",`translate(${r.legend.translateX},${r.legend.translateY+20})`);l.selectAll("rect").data(a).enter().append("rect").attr("x",r.w-65).attr("y",((t,e)=>20*e)).attr("width",10).attr("height",10).style("fill",((t,e)=>r.color(e))),l.selectAll("text").data(a).enter().append("text").attr("x",r.w-52).attr("y",((t,e)=>20*e+9)).attr("font-size","11px").attr("fill","#737373").text((t=>t))}}(".rainG",L,P)}}}]);